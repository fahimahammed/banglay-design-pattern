![Singleton](../assets/singleton-thumb.png)
## Singleton Pattern тАФ ржПржХржЯрж╛ржЗ ржмржЙ, рж╕рж╛рж░рж╛ ржЬрзАржмржи ржХрж╖рзНржЯ!

**ржЬрзАржмржирзЗ ржпрзЗржоржи ржПржХржЯрж╛ ржнрж╛рж▓рзЛ ржмржЙржЗ ржпржерзЗрж╖рзНржЯ, ржХрзЛржбрзЗржУ рждрзЗржоржи ржПржХржЯрж╛ Singleton-ржЗ ржпржерзЗрж╖рзНржЯ!** ЁЯШЬ

---

### ЁЯзР Singleton ржорж╛ржирзЗ ржХрзА?

Simple ржнрж╛рж╖рж╛рзЯ тАФ ржПржоржи ржПржХржЯрж╛ **class ржмрж╛ object** ржпрзЗржЯрж╛ ржкрзБрж░рзЛ ржЕрзНржпрж╛ржкрзЗ **ржПржХржЯрж╛ржЗ instance** ржерж╛ржХржмрзЗред
ржЕрж░рзНржерж╛рзО, ржПржХржмрж╛рж░ рждрзИрж░рж┐ рж╣рж▓рзЗ, ржирждрзБржи ржХрж░рзЗ ржЖрж░ ржХрзЗржЙ ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛, рж╕ржмрж╛ржЗржХрзЗ рж╕рзЗржЗ ржкрзБрж░ржирзЛржЯрж╛ржЗ ржжрж┐рзЯрзЗ ржХрж╛ржЬ ржЪрж╛рж▓рж╛рждрзЗ рж╣ржмрзЗ!

> ржПржХржмрж╛рж░ ржмрж┐рзЯрзЗ ржХрж░рж▓рзЗ, ржЖржмрж╛рж░ ржирждрзБржи ржмрзМ ржЪрж╛ржЗрж▓рзЗржЗ рж╕ржорж╕рзНржпрж╛; ржкрзБрж░рж╛ржирзЛржЯрж╛ржХрзЗржЗ рж░рж┐рж╕рж╛ржЗржХрзЗрж▓ ржХрж░рзЗ ржЪрж▓рждрзЗ рж╣рзЯред ржарж┐ржХ Singleton-ржУ рждрж╛ржЗ! ЁЯШЖ

![Singleton Diagram](../assets/singleton-pattern.png)

---

### ржЪрж▓рзБржи, ржХрзЛржбрзЗ ржжрзЗржЦрж┐ (JavaScript example):

```js
class Database {
  constructor() {
    if (Database.instance) {
      return Database.instance;
    }
    console.log("New Database Created!");
    Database.instance = this;
  }

  query(sql) {
    console.log(`Executing: ${sql}`);
  }
}

const db1 = new Database(); // ЁЯУж New Database Created!
db1.query("SELECT * FROM users");

const db2 = new Database(); // ржЖржЧрзЗрж░ржЯрж╛ржЗ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗ
db2.query("SELECT * FROM orders");

console.log(db1 === db2); // true тЬЕ
```

---

### ЁЯФН ржПржЦрж╛ржирзЗ ржХрзА рж╣рж▓рзЛ?

* ржЖржорж░рж╛ ржжрзБржЗржмрж╛рж░ `new Database()` ржХрж░рзЗржЫрж┐ред
* ржХрж┐ржирзНрждрзБ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржЖрж╕рж▓рзЗ **ржПржХржЯрж╛ржЗ Database instance** рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗред
* ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ ржЪрж╛ржЗрж▓рзЗржУ ржЖржЧрзЗрж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ржЯрж╛ржЗ рж░рж┐ржЯрж╛рж░рзНржи рж╣рзЯрзЗржЫрзЗред

---

### Singleton ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛ?

ржпржЦржи ржжрж░ржХрж╛рж░ рж╣рзЯ **ржПржХржЯрж╛ржЗ shared instance**, ржпрзЗржоржи:

* Database connection
* Logger
* Configuration service
* Cache

---

### рж╣рж╛рж▓ржХрж╛ ржоржЬрж╛рж░ analogy

> ржПржХржмрж╛рж░ instance рж╣рзЯрзЗ ржЧрзЗрж▓рзЗ, ржЖрж░ `new` ржХрж░рж▓рзЗржУ ржУржЗ **ржЖржЧрзЗрж░ ржмржЙ**-ржЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ!
> ржЖрж░ singleton-ржП ржПржХржЯрж╛ржЗ instance - рж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ рж╕рзЗржЯрж╛ржЗ ржирж┐рзЯрзЗржЗ adjust ржХрж░рзЗ ржирзЗрзЯред ЁЯШЕ

---

### TL;DR

* Singleton Pattern: ржПржХржЯрж╛ржЗ instance, рж╕ржмрж╛ржЗ ржорж┐рж▓рзЗ use ржХрж░рзЗред
* ржмрж┐рзЯрзЗрж░ ржорждрзЛ тАФ ржПржХржмрж╛рж░ рж╣рзЯрзЗ ржЧрзЗрж▓рзЗ, ржкрж╛рж▓рж╛ржирзЛрж░ ржЙржкрж╛рзЯ ржирж╛ржЗ! ЁЯШЖ